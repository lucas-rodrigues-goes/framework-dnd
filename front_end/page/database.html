[dialog5("Database",  "width=800; height=800; temporary=1; input=1; noframe=0"), code: {
<head>
[r:style()]
[r:script()]
[r:'
<style>
    .content-left, .content-right{
        min-height: 0px;
        display:block;
        margin: 0px;
        font-weight: bold;
    }
    .content-left {
        width: 60%;
        text-align: left;
    }

    .content-right {
        width: 40%;
        text-align: right;
    }    
    .content-left::first-letter, .content-right::first-letter{
        text-transform: capitalize;
    }
    .background {
        background-color:#333;
        border-radius: 5px;
        padding: 10px;
    }
    .background:hover {
        background-color:#444;
    }

    .outer {
        height: 91%;
    }

    .tab-switch-div {
        position:relative;
        height:20px;
        min-height: 30px;
        margin-bottom: -2px;
    }
    .tab-switch {
        z-index:0;
        bottom: 0px;
        min-height: 20px;
        position:absolute;
        width:10%;
        left: 50%;
        transform: translate(-50%);
        background-color: #292929;
        border: 2px solid #414141;
        border-radius: 10px;
        border-bottom-left-radius: 0px;
        border-bottom-right-radius: 0px;
        font-size: 75%;
        color: #ddd;
    }
    .tab-switch:hover {
        background-color: #444
    }

    .tab-switch.active{
        background-color: #414141
    }

    #classes-switch { left: 10% }
    #races-switch { left: 20% }
    #proficiencies-switch { left: 30% }

    #conditions-switch { left: 40% }
    #features-switch { left: 50% }
    #items-switch { left: 60% }

    #resistances-switch { left: 70% }
    #resources-switch { left: 80% }
    #spells-switch { left: 90% }
</style>
<script>

    //=====================================================================================================
    // Execution
    //=====================================================================================================

    function onWindowLoad() {

        addTabFunctionality()

        // Start tabs
        resistancesTab()

        // Update tabs every 2s
        setInterval(()=>{
            resistancesTab()
        },2000)
    }

    function addTabFunctionality() {
        let tab_list  = ["classes","races","proficiencies","conditions", "features", "items", "resistances", "resources", "spells"]

        tab_list.forEach((tab_name) => {
            getId(tab_name+"-switch").addEventListener("click", () => {
                tab_list.forEach((value) => {
                    let button = getId(value+"-switch")
                    let div = getId(value+"-tab")
                    if (tab_name == value) {
                        button.setAttribute("class", "tab-switch active")
                        div.setAttribute("style", "")
                    } else {
                        button.setAttribute("class", "tab-switch")
                        div.setAttribute("style", "display:none")
                    }
                })
            })
        })
        
    }


    //=====================================================================================================
    // Helper functions
    //=====================================================================================================

    function capitalize(string) {
        return string.charAt(0).toUpperCase() + string.slice(1);
    }



    //=====================================================================================================
    // Sync management
    //=====================================================================================================

    function resistancesTab() {
        div = getId("resistances-tab")
        row_list = []

        div_html = `<div class="spacer"></div> `

        toBackend("database.resistances", (response) => {
            response = JSON.parse(response)
            for (const key in response.type) {

                table_name = capitalize(key)
                table_rows = ""

                for (const value of response.type[key]) {
                    row_list.push(value)
                    table_rows = table_rows + `
                    <div class="row background">
                        <div class="content-left">`+value+`</div>
                        <div class="content-right"></div>
                    </div>
                    `
                }

                div_html = div_html +  `
                <div class="container center-horizontal">
                    <h3 class="container-title">`+table_name+`</h3>
                    <p></p>
                    <div class="table-content">
                        `+table_rows+`
                    </div>
                </div>

                <div class="spacer"></div>
                `
            }
            div.innerHTML = div_html
        })
    }



    //=====================================================================================================

    document.addEventListener("DOMContentLoaded", onWindowLoad)
</script>
']
</head>

<body>

    <div class="tab-switch-div">
        <button class="tab-switch" id="classes-switch">Classes</button>
        <button class="tab-switch" id="races-switch">Races</button>
        <button class="tab-switch" id="proficiencies-switch">Proficiencies</button>
        <button class="tab-switch" id="conditions-switch">Conditions</button>
        <button class="tab-switch" id="features-switch">Features</button>
        <button class="tab-switch" id="items-switch">Items</button>
        <button class="tab-switch active" id="resistances-switch">Resistances</button>
        <button class="tab-switch" id="resources-switch">Resources</button>
        <button class="tab-switch" id="spells-switch">Spells</button>
    </div>

    <div class="outer" id="classes-tab" style="display:none">
    </div>

    <div class="outer" id="races-tab" style="display:none">
    </div>

    <div class="outer" id="proficiencies-tab" style="display:none">
    </div>

    <div class="outer" id="conditions-tab" style="display:none">
    </div>

    <div class="outer" id="features-tab" style="display:none">
    </div>

    <div class="outer" id="items-tab" style="display:none">
    </div>

    <div class="outer" id="resistances-tab">
    </div>

    <div class="outer" id="resources-tab" style="display:none">
    </div>

    <div class="outer" id="spells-tab" style="display:none">
    </div>

</body>

}]